import{o as S,a as O,b as s,e as Te,s as De,f as te,u as c,t as I,w as Pe,v as ze,i as it,h as _e,j as T,m as Fe,k as he,l as x,F as ue,r as pe,p as J,q as rt,x as fe,y as ae,z as we,A as z,B as h,C as Q,D as Ce,E as Ue,G as _t,H as Ct,I as Pt,c as We,J as Tt,T as Dt,K as It,L as Et}from"./entry.06c622bc.js";import{u as Ie,_ as qt,I as $t,v as st}from"./edit.5dd4daf4.js";const jt={viewBox:"0 0 6 10",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Bt=s("g",{id:"arrow-left_svg__Page-1","stroke-width":"1","fill-rule":"evenodd"},[s("path",{d:"M6.292893,2.292893 C6.683418,1.902369 7.316582,1.902369 7.707107,2.292893 C8.097631,2.683418 8.097631,3.316582 7.707107,3.707107 L3.707107,7.707107 C3.316582,8.097631 2.683418,8.097631 2.292893,7.707107 L-1.707107,3.707107 C-2.097631,3.316582 -2.097631,2.683418 -1.707107,2.292893 C-1.316582,1.902369 -0.683418,1.902369 -0.292893,2.292893 L3,5.585786 L6.292893,2.292893 Z",id:"arrow-left_svg__arrow-left","fill-rule":"nonzero",transform:"translate(3.000000, 5.000000) rotate(90.000000) translate(-3.000000, -5.000000) "})],-1),Mt=[Bt];function Ht(e,o){return S(),O("svg",jt,Mt)}const At={render:Ht},Vt={viewBox:"0 0 7 10",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Rt=s("g",{id:"arrow-right_svg__Page-1","stroke-width":"1","fill-rule":"evenodd"},[s("path",{d:"M7.23522352,2.292893 C7.62574852,1.902369 8.25891252,1.902369 8.64943752,2.292893 C9.03996152,2.683418 9.03996152,3.316582 8.64943752,3.707107 L4.64943752,7.707107 C4.25891252,8.097631 3.62574852,8.097631 3.23522352,7.707107 L-0.764776481,3.707107 C-1.15530048,3.316582 -1.15530048,2.683418 -0.764776481,2.292893 C-0.374251481,1.902369 0.258912519,1.902369 0.649437519,2.292893 L3.94233052,5.585786 L7.23522352,2.292893 Z",id:"arrow-right_svg__arrow-right","fill-rule":"nonzero",transform:"translate(3.942331, 5.000000) rotate(270.000000) translate(-3.942331, -5.000000) "})],-1),Yt=[Rt];function Nt(e,o){return S(),O("svg",Vt,Yt)}const Gt={render:Nt},Kt={class:"flex gap-2 justify-between w-full min-w-0 mb-4"},Ft={class:"relative rounded focus:outline-none ring-primary-200 dark:ring-gray-600 focus:ring border border-gray-100 dark:border-gray-800 hover:bg-gray-100 dark:hover:bg-gray-800 leading-10 px-5 cursor-pointer font-medium text-ellipsis overflow-hidden whitespace-nowrap shrink text-center min-w-0",tabindex:"0"},zt={class:"capitalize"},Wt=Te({__name:"TimeEntriesHeader",setup(e){const o=Ie(),{selectedDay:t}=De(o);function u(i){const{$moment:y}=_e();i==="prev"&&(t.value=y(t.value).subtract(1,"day").format("YYYY-MM-DD")),i==="next"&&(t.value=y(t.value).add(1,"day").format("YYYY-MM-DD"))}return(i,y)=>(S(),O("div",Kt,[s("button",{type:"button",class:"flex-shrink-0 shadow rounded focus:outline-none ring-primary-200 dark:ring-gray-600 focus:ring bg-primary-500 hover:bg-primary-400 active:bg-primary-600 text-white dark:text-gray-800 inline-flex items-center justify-center font-bold h-10 w-10 text-sm",onClick:y[0]||(y[0]=l=>u("prev"))},[te(c(At),{class:"h-3"})]),s("label",Ft,[s("span",zt,I(i.$moment(c(t)).format("dddd"))+", ",1),s("span",null,I(i.$moment(c(t)).format("LL")),1),Pe(s("input",{class:"sr-only bottom-0 left-0",type:"date","onUpdate:modelValue":y[1]||(y[1]=l=>it(t)?t.value=l:null),tabindex:"-1",onfocus:"this.showPicker()"},null,512),[[ze,c(t)]])]),s("button",{type:"button",class:"flex-shrink-0 shadow rounded focus:outline-none ring-primary-200 dark:ring-gray-600 focus:ring bg-primary-500 hover:bg-primary-400 active:bg-primary-600 text-white dark:text-gray-800 inline-flex items-center justify-center font-bold h-10 w-10 text-sm",onClick:y[2]||(y[2]=l=>u("next"))},[te(c(Gt),{class:"h-3"})])]))}}),Ut={viewBox:"0 0 956 1080",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Zt=s("g",{id:"play_svg__Page-1","stroke-width":"1","fill-rule":"evenodd"},[s("g",{id:"play_svg__play",transform:"translate(0.319971, 0.062482)","fill-rule":"nonzero"},[s("path",{d:"M917.280029,473.577518 L114.840029,10.2575177 C99.2460288,1.2536177 80.9770288,-1.9654823 63.2460288,1.1677177 C45.5160288,4.2966177 29.4530288,13.5777177 17.8870288,27.3787177 C6.32102883,41.1757177 -0.0149711694,58.6127177 -7.10542736e-14,76.6167177 L-7.10542736e-14,1003.25672 C-0.0155961694,1021.26072 6.32032883,1038.69772 17.8870288,1052.49472 C29.4530288,1066.29572 45.5160288,1075.57672 63.2460288,1078.70572 C80.9760288,1081.83852 99.2460288,1078.61978 114.840029,1069.61592 L917.280029,606.295918 C932.905029,597.307618 944.858029,583.092918 951.030029,566.158918 C957.205829,549.220918 957.205829,530.650918 951.030029,513.713918 C944.858129,496.779918 932.905029,482.565918 917.280029,473.576918 L917.280029,473.577518 Z",id:"play_svg__Path"})])],-1),Jt=[Zt];function Qt(e,o){return S(),O("svg",Ut,Jt)}const Xt={render:Qt},ea={viewBox:"0 0 1080 1080",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},ta=s("g",{id:"stop_svg__Page-1","stroke-width":"1","fill-rule":"evenodd"},[s("g",{id:"stop_svg__stop","fill-rule":"nonzero"},[s("path",{d:"M202.44,-5.68434189e-14 L877.56,-5.68434189e-14 C989.36,-5.68434189e-14 1080,111.8 1080,202.44 L1080,877.56 C1080,989.36 989.363,1080 877.56,1080 L202.44,1080 C90.64,1080 -5.68434189e-14,968.2 -5.68434189e-14,877.56 L-5.68434189e-14,202.44 C-5.68434189e-14,90.64 90.637,-5.68434189e-14 202.44,-5.68434189e-14 Z",id:"stop_svg__Path"})])],-1),aa=[ta];function la(e,o){return S(),O("svg",ea,aa)}const na={render:la},ra={viewBox:"0 0 18 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},sa=s("g",{id:"delete_svg__Page-1","stroke-width":"1","fill-rule":"evenodd"},[s("g",{id:"delete_svg__delete",transform:"translate(1.000000, 1.000000)","fill-rule":"nonzero"},[s("path",{d:"M10,-1 C11.1045695,-1 12,-0.1045695 12,1 L12,3 L16,3 C16.5522847,3 17,3.44771525 17,4 C17,4.55228475 16.5522847,5 16,5 L15.931,5 L15.1304763,16.213 C15.0187068,17.7832453 13.7122224,19 12.138,19 L3.862,19 C2.28777764,19 0.981293174,17.7832453 0.869539632,16.2132237 L0.068,5 L0,5 C-0.55228475,5 -1,4.55228475 -1,4 C-1,3.44771525 -0.55228475,3 0,3 L4,3 L4,1 C4,-0.1045695 4.8954305,-1 6,-1 L10,-1 Z M2.074,5 L2.86447632,16.071 C2.90173255,16.5944115 3.33723127,17 3.862,17 L12.138,17 C12.6627687,17 13.0982674,16.5944115 13.1355396,16.0707763 L13.925,5 L2.074,5 Z M6,7 C6.55228475,7 7,7.44771525 7,8 L7,14 C7,14.5522847 6.55228475,15 6,15 C5.44771525,15 5,14.5522847 5,14 L5,8 C5,7.44771525 5.44771525,7 6,7 Z M10,7 C10.5522847,7 11,7.44771525 11,8 L11,14 C11,14.5522847 10.5522847,15 10,15 C9.44771525,15 9,14.5522847 9,14 L9,8 C9,7.44771525 9.44771525,7 10,7 Z M10,1 L6,1 L6,3 L10,3 L10,1 Z",id:"delete_svg__Shape"})])],-1),ia=[sa];function oa(e,o){return S(),O("svg",ra,ia)}const ua={render:oa},da={container:"relative h-9 mx-auto w-full flex items-center justify-end box-border cursor-pointer rounded text-sm leading-snug outline-none bg-white dark:bg-gray-900 dark:focus:bg-gray-900 border border-gray-300 dark:border-gray-700 dark:focus:border-gray-500",containerDisabled:"cursor-default bg-gray-100",containerOpen:"rounded-b-none border-primary-300 dark:border-gray-500",containerOpenTop:"rounded-t-none border-primary-300 dark:border-gray-500",containerActive:"ring ring-primary-200 dark:ring-gray-600 border-primary-300 dark:border-gray-500",singleLabel:"flex items-center h-full max-w-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 pr-16 box-border",singleLabelText:"overflow-ellipsis overflow-hidden block whitespace-nowrap max-w-full",multipleLabel:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5",search:"w-full absolute inset-0 outline-none appearance-none box-border border-0 text-sm font-sans rounded pl-3.5 bg-transparent",tags:"flex-grow flex-shrink flex flex-wrap items-center mt-1 pl-2 ",tag:"bg-primary-500 text-white text-sm font-semibold py-0.5 pl-2 rounded mr-1 mb-1 flex items-center whitespace-nowrap",tagDisabled:"pr-2 opacity-50",tagRemove:"flex items-center justify-center p-1 mx-0.5 rounded-sm hover:bg-black hover:bg-opacity-10 group",tagRemoveIcon:"bg-multiselect-remove bg-center bg-no-repeat opacity-30 inline-block w-3 h-3 group-hover:opacity-60",tagsSearchWrapper:"inline-block relative mx-1 mb-1 flex-grow flex-shrink h-full",tagsSearch:"absolute inset-0 border-0 outline-none appearance-none p-0 text-base font-sans box-border w-full",tagsSearchCopy:"invisible whitespace-pre-wrap inline-block h-px",placeholder:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-gray-400 dark:text-gray-600",caret:"bg-multiselect-caret bg-center bg-no-repeat w-2.5 h-4 py-px box-content mr-3.5 relative z-10 flex-shrink-0 flex-grow-0 transition-transform transform pointer-events-none",caretOpen:"rotate-180 pointer-events-auto",clear:"pr-3.5 relative z-10 transition duration-300 flex-shrink-0 flex-grow-0 flex hover:opacity-80",clearIcon:"bg-multiselect-remove bg-center bg-no-repeat w-2.5 h-4 py-px box-content inline-block",spinner:"bg-multiselect-spinner bg-center bg-no-repeat w-4 h-4 z-10 mr-3.5 animate-spin flex-shrink-0 flex-grow-0",inifite:"flex items-center justify-center w-full",inifiteSpinner:"bg-multiselect-spinner bg-center bg-no-repeat w-4 h-4 z-10 animate-spin flex-shrink-0 flex-grow-0 m-3.5",dropdown:"max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full border border-primary-300 dark:border-gray-500 dark:focus:border-gray-500 -mt-px overflow-y-scroll z-50 bg-white dark:bg-gray-900 flex flex-col rounded-b",dropdownTop:"-translate-y-full top-px bottom-auto rounded-b-none rounded-t",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none",optionsTop:"",group:"p-0 m-0",groupLabel:"flex text-sm box-border items-center justify-start text-left py-1 px-3 font-semibold bg-gray-200 cursor-default leading-normal",groupLabelPointable:"cursor-pointer",groupLabelPointed:"bg-gray-300 text-gray-700",groupLabelSelected:"bg-primary-600 text-white",groupLabelDisabled:"bg-gray-100 text-gray-300 cursor-not-allowed",groupLabelSelectedPointed:"bg-primary-600 text-white opacity-90",groupLabelSelectedDisabled:"text-green-100 bg-primary-600 bg-opacity-50 cursor-not-allowed",groupOptions:"p-0 m-0",option:"flex items-center justify-start box-border text-left cursor-pointer text-sm leading-snug py-2 px-3",optionPointed:"text-white bg-primary-500",optionSelected:"text-primary-500 font-bold",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-primary-500 opacity-90 font-bold",optionSelectedDisabled:"text-green-100 bg-primary-500 bg-opacity-50 cursor-not-allowed",noOptions:"py-2 px-3 text-gray-600 bg-white dark:bg-gray-900 text-left",noResults:"py-2 px-3 text-gray-600 bg-white dark:bg-gray-900 text-left",fakeInput:"bg-transparent absolute left-0 right-0 -bottom-px w-full h-px border-0 p-0 appearance-none outline-none text-transparent",spacer:"h-9 py-px box-content"};function re(e){return[null,void 0].indexOf(e)!==-1}function ca(e,o,t){const{object:u,valueProp:i,mode:y}=ae(e),l=we().proxy,m=t.iv,C=(n,j=!0)=>{m.value=p(n);const L=w(n);o.emit("change",L,l),j&&(o.emit("input",L),o.emit("update:modelValue",L))},w=n=>u.value||re(n)?n:Array.isArray(n)?n.map(j=>j[i.value]):n[i.value],p=n=>re(n)?y.value==="single"?{}:[]:n;return{update:C}}function va(e,o){const{value:t,modelValue:u,mode:i,valueProp:y}=ae(e),l=z(i.value!=="single"?[]:{}),m=u&&u.value!==void 0?u:t,C=h(()=>i.value==="single"?l.value[y.value]:l.value.map(p=>p[y.value])),w=h(()=>i.value!=="single"?l.value.map(p=>p[y.value]).join(","):l.value[y.value]);return{iv:l,internalValue:l,ev:m,externalValue:m,textValue:w,plainValue:C}}function fa(e,o,t){const{regex:u}=ae(e),i=we().proxy,y=t.isOpen,l=t.open,m=z(null),C=z(null),w=()=>{m.value=""},p=L=>{m.value=L.target.value},n=L=>{if(u&&u.value){let P=u.value;typeof P=="string"&&(P=new RegExp(P)),L.key.match(P)||L.preventDefault()}},j=L=>{if(u&&u.value){let V=(L.clipboardData||window.clipboardData).getData("Text"),b=u.value;typeof b=="string"&&(b=new RegExp(b)),V.split("").every(H=>!!H.match(b))||L.preventDefault()}o.emit("paste",L,i)};return Q(m,L=>{!y.value&&L&&l(),o.emit("search-change",L,i)}),{search:m,input:C,clearSearch:w,handleSearchInput:p,handleKeypress:n,handlePaste:j}}function pa(e,o,t){const{groupSelect:u,mode:i,groups:y,disabledProp:l}=ae(e),m=z(null),C=p=>{p===void 0||p!==null&&p[l.value]||y.value&&p&&p.group&&(i.value==="single"||!u.value)||(m.value=p)};return{pointer:m,setPointer:C,clearPointer:()=>{C(null)}}}function xe(e,o=!0){return o?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(new RegExp(/æ/g),"ae").replace(new RegExp(/œ/g),"oe").replace(new RegExp(/ø/g),"o").replace(/\p{Diacritic}/gu,"")}function ga(e){return Object.prototype.toString.call(e)==="[object Object]"}function ma(e,o){const t=o.slice().sort();return e.length===o.length&&e.slice().sort().every(function(u,i){return u===t[i]})}function ba(e,o,t){const{options:u,mode:i,trackBy:y,limit:l,hideSelected:m,createTag:C,createOption:w,label:p,appendNewTag:n,appendNewOption:j,multipleLabel:L,object:P,loading:V,delay:b,resolveOnLoad:H,minChars:v,filterResults:E,clearOnSearch:N,clearOnSelect:B,valueProp:k,canDeselect:W,max:R,strict:G,closeOnSelect:U,groups:X,reverse:r,infinite:g,groupOptions:A,groupHideEmpty:M,groupSelect:ke,onCreate:ge,disabledProp:q,searchStart:Z}=ae(e),Y=we().proxy,D=t.iv,le=t.ev,K=t.search,ve=t.clearSearch,d=t.update,$=t.pointer,ee=t.clearPointer,qe=t.focus,ot=t.deactivate,$e=t.close,je=z([]),se=z([]),ne=z(!1),Be=z(null),Me=z(g.value&&l.value===-1?10:l.value),Je=h(()=>C.value||w.value||!1),ut=h(()=>n.value!==void 0?n.value:j.value!==void 0?j.value:!0),de=h(()=>{if(X.value){let a=se.value||[],f=[];return a.forEach(_=>{Ge(_[A.value]).forEach(F=>{f.push(Object.assign({},F,_[q.value]?{[q.value]:!0}:{}))})}),f}else{let a=Ge(se.value||[]);return je.value.length&&(a=a.concat(je.value)),a}}),Qe=h(()=>X.value?Ot((se.value||[]).map((a,f)=>{const _=Ge(a[A.value]);return{...a,index:f,group:!0,[A.value]:Ne(_,!1).map(F=>Object.assign({},F,a[q.value]?{[q.value]:!0}:{})),__VISIBLE__:Ne(_).map(F=>Object.assign({},F,a[q.value]?{[q.value]:!0}:{}))}})):[]),Xe=h(()=>{let a=de.value;return r.value&&(a=a.reverse()),Ae.value.length&&(a=Ae.value.concat(a)),Ne(a)}),ye=h(()=>{let a=Xe.value;return Me.value>0&&(a=a.slice(0,Me.value)),a}),He=h(()=>{switch(i.value){case"single":return!re(D.value[k.value]);case"multiple":case"tags":return!re(D.value)&&D.value.length>0}}),dt=h(()=>L!==void 0&&L.value!==void 0?L.value(D.value,Y):D.value&&D.value.length>1?`${D.value.length} options selected`:"1 option selected"),ct=h(()=>!de.value.length&&!ne.value&&!Ae.value.length),vt=h(()=>de.value.length>0&&ye.value.length==0&&(K.value&&X.value||!X.value)),Ae=h(()=>Je.value===!1||!K.value?[]:kt(K.value)!==-1?[]:[{[k.value]:K.value,[p.value]:K.value,[ie.value]:K.value,__CREATE__:!0}]),ie=h(()=>y.value||p.value),ft=h(()=>{switch(i.value){case"single":return null;case"multiple":case"tags":return[]}}),pt=h(()=>V.value||ne.value),me=a=>{switch(typeof a!="object"&&(a=oe(a)),i.value){case"single":d(a);break;case"multiple":case"tags":d(D.value.concat(a));break}o.emit("select",et(a),a,Y)},be=a=>{switch(typeof a!="object"&&(a=oe(a)),i.value){case"single":at();break;case"tags":case"multiple":d(Array.isArray(a)?D.value.filter(f=>a.map(_=>_[k.value]).indexOf(f[k.value])===-1):D.value.filter(f=>f[k.value]!=a[k.value]));break}o.emit("deselect",et(a),a,Y)},et=a=>P.value?a:a[k.value],tt=a=>{be(a)},gt=(a,f)=>{if(f.button!==0){f.preventDefault();return}tt(a)},at=()=>{o.emit("clear",Y),d(ft.value)},ce=a=>{if(a.group!==void 0)return i.value==="single"?!1:wt(a[A.value])&&a[A.value].length;switch(i.value){case"single":return!re(D.value)&&D.value[k.value]==a[k.value];case"tags":case"multiple":return!re(D.value)&&D.value.map(f=>f[k.value]).indexOf(a[k.value])!==-1}},Ve=a=>a[q.value]===!0,Re=()=>R===void 0||R.value===-1||!He.value&&R.value>0?!1:D.value.length>=R.value,mt=a=>{if(!Ve(a)){if(ge&&ge.value&&!ce(a)&&a.__CREATE__&&(a={...a},delete a.__CREATE__,a=ge.value(a,Y),a instanceof Promise)){ne.value=!0,a.then(f=>{ne.value=!1,lt(f)});return}lt(a)}},lt=a=>{switch(a.__CREATE__&&(a={...a},delete a.__CREATE__),i.value){case"single":if(a&&ce(a)){W.value&&be(a);return}a&&Ye(a),B.value&&ve(),U.value&&(ee(),$e()),a&&me(a);break;case"multiple":if(a&&ce(a)){be(a);return}if(Re()){o.emit("max",Y);return}a&&(Ye(a),me(a)),B.value&&ve(),m.value&&ee(),U.value&&$e();break;case"tags":if(a&&ce(a)){be(a);return}if(Re()){o.emit("max",Y);return}a&&Ye(a),B.value&&ve(),a&&me(a),m.value&&ee(),U.value&&$e();break}U.value||qe()},bt=a=>{if(!(Ve(a)||i.value==="single"||!ke.value)){switch(i.value){case"multiple":case"tags":yt(a[A.value])?be(a[A.value]):me(a[A.value].filter(f=>D.value.map(_=>_[k.value]).indexOf(f[k.value])===-1).filter(f=>!f[q.value]).filter((f,_)=>D.value.length+1+_<=R.value||R.value===-1));break}U.value&&ot()}},Ye=a=>{oe(a[k.value])===void 0&&Je.value&&(o.emit("tag",a[k.value],Y),o.emit("option",a[k.value],Y),ut.value&&St(a),ve())},ht=()=>{i.value!=="single"&&me(ye.value)},yt=a=>a.find(f=>!ce(f)&&!f[q.value])===void 0,wt=a=>a.find(f=>!ce(f))===void 0,oe=a=>de.value[de.value.map(f=>String(f[k.value])).indexOf(String(a))],kt=(a,f=!0)=>de.value.map(_=>parseInt(_[ie.value])==_[ie.value]?parseInt(_[ie.value]):_[ie.value]).indexOf(parseInt(a)==a?parseInt(a):a),Lt=a=>["tags","multiple"].indexOf(i.value)!==-1&&m.value&&ce(a),St=a=>{je.value.push(a)},Ot=a=>M.value?a.filter(f=>K.value?f.__VISIBLE__.length:f[A.value].length):a.filter(f=>K.value?f.__VISIBLE__.length:!0),Ne=(a,f=!0)=>{let _=a;return K.value&&E.value&&(_=_.filter(F=>Z.value?xe(F[ie.value],G.value).startsWith(xe(K.value,G.value)):xe(F[ie.value],G.value).indexOf(xe(K.value,G.value))!==-1)),m.value&&f&&(_=_.filter(F=>!Lt(F))),_},Ge=a=>{let f=a;return ga(f)&&(f=Object.keys(f).map(_=>{let F=f[_];return{[k.value]:_,[ie.value]:F,[p.value]:F}})),f=f.map(_=>typeof _=="object"?_:{[k.value]:_,[ie.value]:_,[p.value]:_}),f},Le=()=>{re(le.value)||(D.value=Oe(le.value))},Se=a=>(ne.value=!0,new Promise((f,_)=>{u.value(K.value,Y).then(F=>{se.value=F||[],typeof a=="function"&&a(F),ne.value=!1}).catch(F=>{console.error(F),se.value=[],ne.value=!1}).finally(()=>{f()})})),Ke=()=>{if(!!He.value)if(i.value==="single"){let a=oe(D.value[k.value]);if(a!==void 0){let f=a[p.value];D.value[p.value]=f,P.value&&(le.value[p.value]=f)}}else D.value.forEach((a,f)=>{let _=oe(D.value[f][k.value]);if(_!==void 0){let F=_[p.value];D.value[f][p.value]=F,P.value&&(le.value[f][p.value]=F)}})},xt=a=>{Se(a)},Oe=a=>re(a)?i.value==="single"?{}:[]:P.value?a:i.value==="single"?oe(a)||{}:a.filter(f=>!!oe(f)).map(f=>oe(f)),nt=()=>{Be.value=Q(K,a=>{a.length<v.value||!a&&v.value!==0||(ne.value=!0,N.value&&(se.value=[]),setTimeout(()=>{a==K.value&&u.value(K.value,Y).then(f=>{(a==K.value||!K.value)&&(se.value=f,$.value=ye.value.filter(_=>_[q.value]!==!0)[0]||null,ne.value=!1)}).catch(f=>{console.error(f)})},b.value))},{flush:"sync"})};if(i.value!=="single"&&!re(le.value)&&!Array.isArray(le.value))throw new Error(`v-model must be an array when using "${i.value}" mode`);return u&&typeof u.value=="function"?H.value?Se(Le):P.value==!0&&Le():(se.value=u.value,Le()),b.value>-1&&nt(),Q(b,(a,f)=>{Be.value&&Be.value(),a>=0&&nt()}),Q(le,a=>{if(re(a)){d(Oe(a),!1);return}switch(i.value){case"single":(P.value?a[k.value]!=D.value[k.value]:a!=D.value[k.value])&&d(Oe(a),!1);break;case"multiple":case"tags":ma(P.value?a.map(f=>f[k.value]):a,D.value.map(f=>f[k.value]))||d(Oe(a),!1);break}},{deep:!0}),Q(u,(a,f)=>{typeof e.options=="function"?H.value&&(!f||a&&a.toString()!==f.toString())&&Se():(se.value=e.options,Object.keys(D.value).length||Le(),Ke())}),Q(p,Ke),{pfo:Xe,fo:ye,filteredOptions:ye,hasSelected:He,multipleLabelText:dt,eo:de,extendedOptions:de,fg:Qe,filteredGroups:Qe,noOptions:ct,noResults:vt,resolving:ne,busy:pt,offset:Me,select:me,deselect:be,remove:tt,selectAll:ht,clear:at,isSelected:ce,isDisabled:Ve,isMax:Re,getOption:oe,handleOptionClick:mt,handleGroupClick:bt,handleTagRemove:gt,refreshOptions:xt,resolveOptions:Se,refreshLabels:Ke}}function ha(e,o,t){const{valueProp:u,showOptions:i,searchable:y,groupLabel:l,groups:m,mode:C,groupSelect:w,disabledProp:p}=ae(e),n=t.fo,j=t.fg,L=t.handleOptionClick,P=t.handleGroupClick,V=t.search,b=t.pointer,H=t.setPointer,v=t.clearPointer,E=t.multiselect,N=t.isOpen,B=h(()=>n.value.filter(d=>!d[p.value])),k=h(()=>j.value.filter(d=>!d[p.value])),W=h(()=>C.value!=="single"&&w.value),R=h(()=>b.value&&b.value.group),G=h(()=>K(b.value)),U=h(()=>{const d=R.value?b.value:K(b.value),$=k.value.map(qe=>qe[l.value]).indexOf(d[l.value]);let ee=k.value[$-1];return ee===void 0&&(ee=r.value),ee}),X=h(()=>{let d=k.value.map($=>$.label).indexOf(R.value?b.value[l.value]:K(b.value)[l.value])+1;return k.value.length<=d&&(d=0),k.value[d]}),r=h(()=>[...k.value].slice(-1)[0]),g=h(()=>b.value.__VISIBLE__.filter(d=>!d[p.value])[0]),A=h(()=>{const d=G.value.__VISIBLE__.filter($=>!$[p.value]);return d[d.map($=>$[u.value]).indexOf(b.value[u.value])-1]}),M=h(()=>{const d=K(b.value).__VISIBLE__.filter($=>!$[p.value]);return d[d.map($=>$[u.value]).indexOf(b.value[u.value])+1]}),ke=h(()=>[...U.value.__VISIBLE__.filter(d=>!d[p.value])].slice(-1)[0]),ge=h(()=>[...r.value.__VISIBLE__.filter(d=>!d[p.value])].slice(-1)[0]),q=d=>!!b.value&&(!d.group&&b.value[u.value]==d[u.value]||d.group!==void 0&&b.value[l.value]==d[l.value])?!0:void 0,Z=()=>{H(B.value[0]||null)},Y=()=>{!b.value||b.value[p.value]===!0||(R.value?P(b.value):L(b.value))},D=()=>{if(b.value===null)H((m.value&&W.value?k.value[0]:B.value[0])||null);else if(m.value&&W.value){let d=R.value?g.value:M.value;d===void 0&&(d=X.value),H(d||null)}else{let d=B.value.map($=>$[u.value]).indexOf(b.value[u.value])+1;B.value.length<=d&&(d=0),H(B.value[d]||null)}Ce(()=>{ve()})},le=()=>{if(b.value===null){let d=B.value[B.value.length-1];m.value&&W.value&&(d=ge.value,d===void 0&&(d=r.value)),H(d||null)}else if(m.value&&W.value){let d=R.value?ke.value:A.value;d===void 0&&(d=R.value?U.value:G.value),H(d||null)}else{let d=B.value.map($=>$[u.value]).indexOf(b.value[u.value])-1;d<0&&(d=B.value.length-1),H(B.value[d]||null)}Ce(()=>{ve()})},K=d=>k.value.find($=>$.__VISIBLE__.map(ee=>ee[u.value]).indexOf(d[u.value])!==-1),ve=()=>{let d=E.value.querySelector("[data-pointed]");if(!d)return;let $=d.parentElement.parentElement;m.value&&($=R.value?d.parentElement.parentElement.parentElement:d.parentElement.parentElement.parentElement.parentElement),d.offsetTop+d.offsetHeight>$.clientHeight+$.scrollTop&&($.scrollTop=d.offsetTop+d.offsetHeight-$.clientHeight),d.offsetTop<$.scrollTop&&($.scrollTop=d.offsetTop)};return Q(V,d=>{y.value&&(d.length&&i.value?Z():v())}),Q(N,d=>{if(d){let $=E.value.querySelectorAll("[data-selected]")[0];if(!$)return;let ee=$.parentElement.parentElement;Ce(()=>{ee.scrollTop>0||(ee.scrollTop=$.offsetTop)})}}),{pointer:b,canPointGroups:W,isPointed:q,setPointerFirst:Z,selectPointer:Y,forwardPointer:D,backwardPointer:le}}function ya(e,o,t){const{disabled:u}=ae(e),i=we().proxy,y=z(!1);return{isOpen:y,open:()=>{y.value||u.value||(y.value=!0,o.emit("open",i))},close:()=>{!y.value||(y.value=!1,o.emit("close",i))}}}function wa(e,o,t){const{searchable:u,disabled:i,clearOnBlur:y}=ae(e),l=t.input,m=t.open,C=t.close,w=t.clearSearch,p=t.isOpen,n=z(null),j=z(null),L=z(null),P=z(!1),V=z(!1),b=h(()=>u.value||i.value?-1:0),H=()=>{u.value&&l.value.blur(),j.value.blur()},v=()=>{u.value&&!i.value&&l.value.focus()},E=(G=!0)=>{i.value||(P.value=!0,G&&m())},N=()=>{P.value=!1,setTimeout(()=>{P.value||(C(),y.value&&w())},1)};return{multiselect:n,wrapper:j,tags:L,tabindex:b,isActive:P,mouseClicked:V,blur:H,focus:v,activate:E,deactivate:N,handleFocusIn:G=>{G.target.closest("[data-tags]")&&G.target.nodeName!=="INPUT"||G.target.closest("[data-clear]")||E(V.value)},handleFocusOut:()=>{N()},handleCaretClick:()=>{N(),H()},handleMousedown:G=>{V.value=!0,p.value&&(G.target.isEqualNode(j.value)||G.target.isEqualNode(L.value))?setTimeout(()=>{N()},0):document.activeElement.isEqualNode(j.value)&&!p.value&&E(),setTimeout(()=>{V.value=!1},0)}}}function ka(e,o,t){const{mode:u,addTagOn:i,openDirection:y,searchable:l,showOptions:m,valueProp:C,groups:w,addOptionOn:p,createTag:n,createOption:j,reverse:L}=ae(e),P=we().proxy,V=t.iv,b=t.update,H=t.search,v=t.setPointer,E=t.selectPointer,N=t.backwardPointer,B=t.forwardPointer,k=t.multiselect,W=t.wrapper,R=t.tags,G=t.isOpen,U=t.open,X=t.blur,r=t.fo,g=h(()=>n.value||j.value||!1),A=h(()=>i.value!==void 0?i.value:p.value!==void 0?p.value:["enter"]),M=()=>{u.value==="tags"&&!m.value&&g.value&&l.value&&!w.value&&v(r.value[r.value.map(q=>q[C.value]).indexOf(H.value)])};return{handleKeydown:q=>{o.emit("keydown",q,P);let Z,Y;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(q.key)!==-1&&u.value==="tags"&&(Z=[...k.value.querySelectorAll("[data-tags] > *")].filter(D=>D!==R.value),Y=Z.findIndex(D=>D===document.activeElement)),q.key){case"Backspace":if(u.value==="single"||l.value&&[null,""].indexOf(H.value)===-1||V.value.length===0)return;b([...V.value].slice(0,-1));break;case"Enter":if(q.preventDefault(),q.keyCode===229)return;if(Y!==-1&&Y!==void 0){b([...V.value].filter((D,le)=>le!==Y)),Y===Z.length-1&&(Z.length-1?Z[Z.length-2].focus():l.value?R.value.querySelector("input").focus():W.value.focus());return}if(A.value.indexOf("enter")===-1&&g.value)return;M(),E();break;case" ":if(!g.value&&!l.value){q.preventDefault(),M(),E();return}if(!g.value)return!1;if(A.value.indexOf("space")===-1&&g.value)return;q.preventDefault(),M(),E();break;case"Tab":case";":case",":if(A.value.indexOf(q.key.toLowerCase())===-1||!g.value)return;M(),E(),q.preventDefault();break;case"Escape":X();break;case"ArrowUp":if(q.preventDefault(),!m.value)return;G.value||U(),N();break;case"ArrowDown":if(q.preventDefault(),!m.value)return;G.value||U(),B();break;case"ArrowLeft":if(l.value&&R.value&&R.value.querySelector("input").selectionStart||q.shiftKey||u.value!=="tags"||!V.value||!V.value.length)return;q.preventDefault(),Y===-1?Z[Z.length-1].focus():Y>0&&Z[Y-1].focus();break;case"ArrowRight":if(Y===-1||q.shiftKey||u.value!=="tags"||!V.value||!V.value.length)return;q.preventDefault(),Z.length>Y+1?Z[Y+1].focus():l.value?R.value.querySelector("input").focus():l.value||W.value.focus();break}},handleKeyup:q=>{o.emit("keyup",q,P)},preparePointer:M}}function La(e,o,t){const{classes:u,disabled:i,openDirection:y,showOptions:l}=ae(e),m=t.isOpen,C=t.isPointed,w=t.isSelected,p=t.isDisabled,n=t.isActive,j=t.canPointGroups,L=t.resolving,P=t.fo,V=h(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...u.value})),b=h(()=>!!(m.value&&l.value&&(!L.value||L.value&&P.value.length)));return{classList:h(()=>{const v=V.value;return{container:[v.container].concat(i.value?v.containerDisabled:[]).concat(b.value&&y.value==="top"?v.containerOpenTop:[]).concat(b.value&&y.value!=="top"?v.containerOpen:[]).concat(n.value?v.containerActive:[]),wrapper:v.wrapper,spacer:v.spacer,singleLabel:v.singleLabel,singleLabelText:v.singleLabelText,multipleLabel:v.multipleLabel,search:v.search,tags:v.tags,tag:[v.tag].concat(i.value?v.tagDisabled:[]),tagRemove:v.tagRemove,tagRemoveIcon:v.tagRemoveIcon,tagsSearchWrapper:v.tagsSearchWrapper,tagsSearch:v.tagsSearch,tagsSearchCopy:v.tagsSearchCopy,placeholder:v.placeholder,caret:[v.caret].concat(m.value?v.caretOpen:[]),clear:v.clear,clearIcon:v.clearIcon,spinner:v.spinner,inifinite:v.inifinite,inifiniteSpinner:v.inifiniteSpinner,dropdown:[v.dropdown].concat(y.value==="top"?v.dropdownTop:[]).concat(!m.value||!l.value||!b.value?v.dropdownHidden:[]),options:[v.options].concat(y.value==="top"?v.optionsTop:[]),group:v.group,groupLabel:E=>{let N=[v.groupLabel];return C(E)?N.push(w(E)?v.groupLabelSelectedPointed:v.groupLabelPointed):w(E)&&j.value?N.push(p(E)?v.groupLabelSelectedDisabled:v.groupLabelSelected):p(E)&&N.push(v.groupLabelDisabled),j.value&&N.push(v.groupLabelPointable),N},groupOptions:v.groupOptions,option:(E,N)=>{let B=[v.option];return C(E)?B.push(w(E)?v.optionSelectedPointed:v.optionPointed):w(E)?B.push(p(E)?v.optionSelectedDisabled:v.optionSelected):(p(E)||N&&p(N))&&B.push(v.optionDisabled),B},noOptions:v.noOptions,noResults:v.noResults,assist:v.assist,fakeInput:v.fakeInput}}),showDropdown:b}}function Sa(e,o,t){const{limit:u,infinite:i}=ae(e),y=t.isOpen,l=t.offset,m=t.search,C=t.pfo,w=t.eo,p=z(null),n=z(null),j=h(()=>l.value<C.value.length),L=V=>{const{isIntersecting:b,target:H}=V[0];if(b){const v=H.offsetParent,E=v.scrollTop;l.value+=u.value==-1?10:u.value,Ce(()=>{v.scrollTop=E})}},P=()=>{y.value&&l.value<C.value.length?p.value.observe(n.value):!y.value&&p.value&&p.value.disconnect()};return Q(y,()=>{!i.value||P()}),Q(m,()=>{!i.value||(l.value=u.value,P())},{flush:"post"}),Q(w,()=>{!i.value||P()},{immediate:!1,flush:"post"}),Ue(()=>{window&&window.IntersectionObserver&&(p.value=new IntersectionObserver(L))}),{hasMore:j,infiniteLoader:n}}function Oa(e,o,t){const{placeholder:u,id:i,valueProp:y,label:l,mode:m,groupLabel:C,aria:w,searchable:p}=ae(e),n=t.pointer,j=t.iv,L=t.hasSelected,P=t.multipleLabelText,V=z(null),b=h(()=>{let r=[];return i&&i.value&&r.push(i.value),r.push("assist"),r.join("-")}),H=h(()=>{let r=[];return i&&i.value&&r.push(i.value),r.push("multiselect-options"),r.join("-")}),v=h(()=>{let r=[];if(i&&i.value&&r.push(i.value),n.value)return r.push(n.value.group?"multiselect-group":"multiselect-option"),r.push(n.value.group?n.value.index:n.value[y.value]),r.join("-")}),E=h(()=>u.value),N=h(()=>m.value!=="single"),B=h(()=>{let r="";return m.value==="single"&&L.value&&(r+=j.value[l.value]),m.value==="multiple"&&L.value&&(r+=P.value),m.value==="tags"&&L.value&&(r+=j.value.map(g=>g[l.value]).join(", ")),r}),k=h(()=>{let r={...w.value};return p.value&&(r["aria-labelledby"]=r["aria-labelledby"]?`${b.value} ${r["aria-labelledby"]}`:b.value,B.value&&r["aria-label"]&&(r["aria-label"]=`${B.value}, ${r["aria-label"]}`)),r}),W=r=>{let g=[];return i&&i.value&&g.push(i.value),g.push("multiselect-option"),g.push(r[y.value]),g.join("-")},R=r=>{let g=[];return i&&i.value&&g.push(i.value),g.push("multiselect-group"),g.push(r.index),g.join("-")},G=r=>{let g=[];return g.push(r[l.value]),g.join(" ")},U=r=>{let g=[];return g.push(r[C.value]),g.join(" ")},X=r=>`${r} \u274E`;return Ue(()=>{if(i&&i.value&&document&&document.querySelector){let r=document.querySelector(`[for="${i.value}"]`);V.value=r?r.innerText:null}}),{arias:k,ariaLabel:B,ariaAssist:b,ariaControls:H,ariaPlaceholder:E,ariaMultiselectable:N,ariaActiveDescendant:v,ariaOptionId:W,ariaOptionLabel:G,ariaGroupId:R,ariaGroupLabel:U,ariaTagLabel:X}}function xa(e,o,t,u={}){return t.forEach(i=>{i&&(u={...u,...i(e,o,u)})}),u}var Ze={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0}},setup(e,o){return xa(e,o,[va,pa,ya,fa,ca,wa,ba,Sa,ha,ka,La,Oa])}};const _a=["id","dir"],Ca=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],Pa=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Ta=["onKeyup","aria-label"],Da=["onClick"],Ia=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Ea=["innerHTML"],qa=["id"],$a=["id","aria-label","aria-selected"],ja=["data-pointed","onMouseenter","onClick"],Ba=["innerHTML"],Ma=["aria-label"],Ha=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Aa=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Va=["innerHTML"],Ra=["innerHTML"],Ya=["value"],Na=["name","value"],Ga=["name","value"],Ka=["id"];function Fa(e,o,t,u,i,y){return S(),O("div",{ref:"multiselect",class:x(e.classList.container),id:t.searchable?void 0:t.id,dir:t.rtl?"rtl":void 0,onFocusin:o[10]||(o[10]=(...l)=>e.handleFocusIn&&e.handleFocusIn(...l)),onFocusout:o[11]||(o[11]=(...l)=>e.handleFocusOut&&e.handleFocusOut(...l)),onKeyup:o[12]||(o[12]=(...l)=>e.handleKeyup&&e.handleKeyup(...l)),onKeydown:o[13]||(o[13]=(...l)=>e.handleKeydown&&e.handleKeydown(...l))},[s("div",Fe({class:e.classList.wrapper,onMousedown:o[9]||(o[9]=(...l)=>e.handleMousedown&&e.handleMousedown(...l)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":t.searchable?void 0:e.ariaControls,"aria-placeholder":t.searchable?void 0:e.ariaPlaceholder,"aria-expanded":t.searchable?void 0:e.isOpen,"aria-activedescendant":t.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":t.searchable?void 0:e.ariaMultiselectable,role:t.searchable?void 0:"combobox"},t.searchable?{}:e.arias),[T(" Search "),t.mode!=="tags"&&t.searchable&&!t.disabled?(S(),O("input",Fe({key:0,type:t.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:t.autocomplete,id:t.searchable?t.id:void 0,onInput:o[0]||(o[0]=(...l)=>e.handleSearchInput&&e.handleSearchInput(...l)),onKeypress:o[1]||(o[1]=(...l)=>e.handleKeypress&&e.handleKeypress(...l)),onPaste:o[2]||(o[2]=he((...l)=>e.handlePaste&&e.handlePaste(...l),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...t.attrs,...e.arias}),null,16,Pa)):T("v-if",!0),T(" Tags (with search) "),t.mode=="tags"?(S(),O("div",{key:1,class:x(e.classList.tags),"data-tags":""},[(S(!0),O(ue,null,pe(e.iv,(l,m,C)=>J(e.$slots,"tag",{option:l,handleTagRemove:e.handleTagRemove,disabled:t.disabled},()=>[(S(),O("span",{class:x(e.classList.tag),tabindex:"-1",onKeyup:rt(w=>e.handleTagRemove(l,w),["enter"]),key:C,"aria-label":e.ariaTagLabel(l[t.label])},[fe(I(l[t.label])+" ",1),t.disabled?T("v-if",!0):(S(),O("span",{key:0,class:x(e.classList.tagRemove),onClick:he(w=>e.handleTagRemove(l,w),["stop"])},[s("span",{class:x(e.classList.tagRemoveIcon)},null,2)],10,Da))],42,Ta))])),256)),s("div",{class:x(e.classList.tagsSearchWrapper),ref:"tags"},[T(" Used for measuring search width "),s("span",{class:x(e.classList.tagsSearchCopy)},I(e.search),3),T(" Actual search input "),t.searchable&&!t.disabled?(S(),O("input",Fe({key:0,type:t.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:t.searchable?t.id:void 0,autocomplete:t.autocomplete,onInput:o[3]||(o[3]=(...l)=>e.handleSearchInput&&e.handleSearchInput(...l)),onKeypress:o[4]||(o[4]=(...l)=>e.handleKeypress&&e.handleKeypress(...l)),onPaste:o[5]||(o[5]=he((...l)=>e.handlePaste&&e.handlePaste(...l),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...t.attrs,...e.arias}),null,16,Ia)):T("v-if",!0)],2)],2)):T("v-if",!0),T(" Single label "),t.mode=="single"&&e.hasSelected&&!e.search&&e.iv?J(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[s("div",{class:x(e.classList.singleLabel)},[s("span",{class:x(e.classList.singleLabelText)},I(e.iv[t.label]),3)],2)]):T("v-if",!0),T(" Multiple label "),t.mode=="multiple"&&e.hasSelected&&!e.search?J(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[s("div",{class:x(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,Ea)]):T("v-if",!0),T(" Placeholder "),t.placeholder&&!e.hasSelected&&!e.search?J(e.$slots,"placeholder",{key:4},()=>[s("div",{class:x(e.classList.placeholder),"aria-hidden":"true"},I(t.placeholder),3)]):T("v-if",!0),T(" Spinner "),t.loading||e.resolving?J(e.$slots,"spinner",{key:5},()=>[s("span",{class:x(e.classList.spinner),"aria-hidden":"true"},null,2)]):T("v-if",!0),T(" Clear "),e.hasSelected&&!t.disabled&&t.canClear&&!e.busy?J(e.$slots,"clear",{key:6,clear:e.clear},()=>[s("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"\u274E",class:x(e.classList.clear),onClick:o[6]||(o[6]=(...l)=>e.clear&&e.clear(...l)),onKeyup:o[7]||(o[7]=rt((...l)=>e.clear&&e.clear(...l),["enter"]))},[s("span",{class:x(e.classList.clearIcon)},null,2)],34)]):T("v-if",!0),T(" Caret "),t.caret&&t.showOptions?J(e.$slots,"caret",{key:7},()=>[s("span",{class:x(e.classList.caret),onClick:o[8]||(o[8]=(...l)=>e.handleCaretClick&&e.handleCaretClick(...l)),"aria-hidden":"true"},null,2)]):T("v-if",!0)],16,Ca),T(" Options "),s("div",{class:x(e.classList.dropdown),tabindex:"-1"},[J(e.$slots,"beforelist",{options:e.fo}),s("ul",{class:x(e.classList.options),id:e.ariaControls,role:"listbox"},[t.groups?(S(!0),O(ue,{key:0},pe(e.fg,(l,m,C)=>(S(),O("li",{class:x(e.classList.group),key:C,id:e.ariaGroupId(l),"aria-label":e.ariaGroupLabel(l),"aria-selected":e.isSelected(l),role:"option"},[s("div",{class:x(e.classList.groupLabel(l)),"data-pointed":e.isPointed(l),onMouseenter:w=>e.setPointer(l,m),onClick:w=>e.handleGroupClick(l)},[J(e.$slots,"grouplabel",{group:l,isSelected:e.isSelected,isPointed:e.isPointed},()=>[s("span",{innerHTML:l[t.groupLabel]},null,8,Ba)])],42,ja),s("ul",{class:x(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(l),role:"group"},[(S(!0),O(ue,null,pe(l.__VISIBLE__,(w,p,n)=>(S(),O("li",{class:x(e.classList.option(w,l)),"data-pointed":e.isPointed(w),"data-selected":e.isSelected(w)||void 0,key:n,onMouseenter:j=>e.setPointer(w),onClick:j=>e.handleOptionClick(w),id:e.ariaOptionId(w),"aria-selected":e.isSelected(w),"aria-label":e.ariaOptionLabel(w),role:"option"},[J(e.$slots,"option",{option:w,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[s("span",null,I(w[t.label]),1)])],42,Ha))),128))],10,Ma)],10,$a))),128)):(S(!0),O(ue,{key:1},pe(e.fo,(l,m,C)=>(S(),O("li",{class:x(e.classList.option(l)),"data-pointed":e.isPointed(l),"data-selected":e.isSelected(l)||void 0,key:C,onMouseenter:w=>e.setPointer(l),onClick:w=>e.handleOptionClick(l),id:e.ariaOptionId(l),"aria-selected":e.isSelected(l),"aria-label":e.ariaOptionLabel(l),role:"option"},[J(e.$slots,"option",{option:l,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[s("span",null,I(l[t.label]),1)])],42,Aa))),128))],10,qa),e.noOptions?J(e.$slots,"nooptions",{key:0},()=>[s("div",{class:x(e.classList.noOptions),innerHTML:t.noOptionsText},null,10,Va)]):T("v-if",!0),e.noResults?J(e.$slots,"noresults",{key:1},()=>[s("div",{class:x(e.classList.noResults),innerHTML:t.noResultsText},null,10,Ra)]):T("v-if",!0),t.infinite&&e.hasMore?(S(),O("div",{key:2,class:x(e.classList.inifinite),ref:"infiniteLoader"},[J(e.$slots,"infinite",{},()=>[s("span",{class:x(e.classList.inifiniteSpinner)},null,2)])],2)):T("v-if",!0),J(e.$slots,"afterlist",{options:e.fo})],2),T(" Hacky input element to show HTML5 required warning "),t.required?(S(),O("input",{key:0,class:x(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,Ya)):T("v-if",!0),T(" Native input support "),t.nativeSupport?(S(),O(ue,{key:1},[t.mode=="single"?(S(),O("input",{key:0,type:"hidden",name:t.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,Na)):(S(!0),O(ue,{key:1},pe(e.plainValue,(l,m)=>(S(),O("input",{type:"hidden",name:`${t.name}[]`,value:l,key:m},null,8,Ga))),128))],64)):T("v-if",!0),T(" Screen reader assistive text "),t.searchable&&e.hasSelected?(S(),O("div",{key:2,class:x(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},I(e.ariaLabel),11,Ka)):T("v-if",!0),T(" Create height for empty input "),s("div",{class:x(e.classList.spacer)},null,2)],42,_a)}Ze.render=Fa;Ze.__file="src/Multiselect.vue";const Ee=e=>(_t("data-v-6bdd3633"),e=e(),Ct(),e),za=["onSubmit"],Wa={class:"grid gap-2 grid-cols-2 sm:grid-cols-4"},Ua=Ee(()=>s("span",{class:"text-red-500"},"*",-1)),Za=Ee(()=>s("span",{class:"text-red-500"},"*",-1)),Ja=Ee(()=>s("span",{class:"text-red-500"},"*",-1)),Qa=Ee(()=>s("span",{class:"text-red-500"},"*",-1)),Xa=["placeholder"],el={class:"flex gap-2 justify-end"},tl={key:0,type:"submit",class:"shadow bg-green-500 hover:bg-green-400 active:bg-green-600 text-white dark:text-gray-900 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3 disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none gap-2"},al={key:1,type:"submit",class:"shadow bg-rose-500 hover:bg-rose-400 active:bg-rose-600 text-white dark:text-gray-900 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3 disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none gap-2"},ll=["disabled"],nl={class:"flex items-start justify-between gap-2"},rl={class:"block"},sl={class:"flex gap-2"},il={class:"grid gap-2 grid-cols-2 sm:grid-cols-4"},ol={class:"block"},ul={key:0},dl={class:"block whitespace-pre"},cl=Te({__name:"TimeEntry",props:{entry:{type:Object,default:()=>({id:"",is_creating:!0,is_editing:!1,is_live_clocking:!1,start_time:"",end_time:"",duration:"",date:null,description:"",project:null})}},setup(e){const o=e,{$moment:t}=_e(),u=Ie(),{addProject:i,addEntry:y,updateEntry:l,deleteEntry:m}=u,{projects:C,selectedDay:w,todaysEntries:p}=De(u),n=z(Object.assign({},o.entry)),j=z("00:00:00"),L=h(()=>{var r;return(r=n.value.date)!=null?r:w.value}),P=h({get(){const r=n.value.is_live_clocking?new Date().toLocaleDateString("en-CA"):L.value,g=t(L.value+" "+n.value.start_time,"YYYY-M-D HH:mm"),A=t(r+" "+n.value.end_time,"YYYY-M-D HH:mm");if(t(n.value.start_time,"HH:mm",!0).isValid()&&t(n.value.end_time,"HH:mm",!0).isValid()){const M=t.duration(A.diff(g));if(M.asMilliseconds()>0)return M.format("HH:mm",{trim:!1})}},set(r){const A=t(L.value+" "+n.value.start_time,"YYYY-M-D HH:mm").add(t.duration(r)).format("HH:mm");t(r,"HH:mm",!0).isValid()&&t(n.value.start_time,"HH:mm",!0).isValid()&&(n.value.end_time=A)}}),V=h(()=>t(w.value).isSame(t(),"day")),b=h(()=>{if(!n.value.id)return;const r=p.value.findIndex(g=>g.id===n.value.id);if(r!==0)return p.value[r-1]}),H=h(()=>{if(!n.value.id)return;const r=p.value.findIndex(g=>g.id===n.value.id);if(r!==p.value.length)return p.value[r+1]}),v=h(()=>{if(b&&b.value){const{$moment:r}=_e();return r.duration(b.value.end_time).asMinutes()>r.duration(n.value.start_time).asMinutes()}return!1}),E=h(()=>{if(H&&H.value){const{$moment:r}=_e();return r.duration(n.value.end_time).asMinutes()>r.duration(H.value.start_time).asMinutes()}return!1}),N=h(()=>b.value?!v.value&&b.value.end_time!==n.value.start_time:!1),B=h(()=>v.value),k=h(()=>E.value),W=h(()=>{const r=n.value.is_live_clocking?new Date().toLocaleDateString("en-CA"):L.value,g=t(L.value+" "+n.value.start_time,"YYYY-M-D HH:mm"),A=t(r+" "+n.value.end_time,"YYYY-M-D HH:mm");return t(n.value.start_time,"HH:mm",!0).isValid()&&t(n.value.end_time,"HH:mm",!0).isValid()?t.duration(A.diff(g)).asMilliseconds()<=0:!1});Ue(()=>{n.value.is_creating&&U()}),Q(P,r=>{n.value.duration=r||""});function R(){(!n.value.start_time||!n.value.end_time)&&!n.value.is_live_clocking?(n.value.start_time||(n.value.start_time=t().format("HH:mm")),n.value.is_live_clocking=!0,U(),G(n.value)):n.value.is_live_clocking?(n.value.end_time=t().format("HH:mm"),n.value.is_live_clocking=!1,l(n.value)):n.value.id?(n.value.is_creating=!1,n.value.is_editing=!1,l(n.value)):(n.value.is_creating=!1,G(n.value))}function G(r){y({...r,date:L.value})}function U(){setInterval(()=>{const r=t(L.value+" "+n.value.start_time,"YYYY-M-D HH:mm"),g=t(),A=t.duration(g.diff(r)).format("HH:mm:ss",{trim:!1});j.value=A},100)}function X(){n.value.is_editing=!1,n.value=JSON.parse(JSON.stringify(o.entry))}return(r,g)=>{const A=qt;return c(n).is_creating||c(n).is_editing?(S(),O("form",{key:0,class:x(["relative p-4 bg-gray-100 dark:bg-gray-800 rounded flex flex-col gap-2 w-full border",[c(v)||c(E)?"border-red-500":"border-transparent",{"has-gap mt-10":c(N)}]]),onSubmit:he(R,["prevent"])},[s("div",Wa,[s("div",null,[s("label",null,[fe(I(r.$t("D\xE9but")),1),Ua]),te(A,{modelValue:c(n).start_time,"onUpdate:modelValue":g[0]||(g[0]=M=>c(n).start_time=M),class:x({"border !border-red-500":c(B)})},null,8,["modelValue","class"])]),s("div",null,[s("label",null,[fe(I(r.$t("Fin")),1),Za]),te(A,{modelValue:c(n).end_time,"onUpdate:modelValue":g[1]||(g[1]=M=>c(n).end_time=M),class:x({"border !border-red-500":c(k)})},null,8,["modelValue","class"])]),s("div",null,[s("label",null,[fe(I(r.$t("Dur\xE9e")),1),Ja]),te(A,{modelValue:c(P),"onUpdate:modelValue":g[2]||(g[2]=M=>it(P)?P.value=M:null),class:x(["read-only:pointer-events-none",{"border !border-red-500":c(W)}]),format:"HH:MM",placeholder:c(n).is_live_clocking?c(j):void 0,readonly:c(n).is_live_clocking},null,8,["modelValue","class","placeholder","readonly"])]),s("div",null,[s("label",null,I(r.$t("Date")),1),Pe(s("input",{"onUpdate:modelValue":g[3]||(g[3]=M=>c(n).date=M),class:x([{"has-value":c(n).date},"form-control form-input form-input-bordered w-full"]),type:"date"},null,2),[[ze,c(n).date]])])]),s("div",null,[s("label",null,[fe(I(r.$t("Projet")),1),Qa]),te(c(Ze),{modelValue:c(n).project,"onUpdate:modelValue":g[4]||(g[4]=M=>c(n).project=M),options:c(C),"track-by":"name",label:"name","value-prop":"id",object:!0,placeholder:r.$t("Choisir ou cr\xE9er..."),classes:c(da),appendNewOption:!1,searchable:"",createOption:"",onCreate:c(i)},null,8,["modelValue","options","placeholder","classes","onCreate"])]),s("div",null,[s("label",null,I(r.$t("Description")),1),Pe(s("textarea",{"onUpdate:modelValue":g[5]||(g[5]=M=>c(n).description=M),class:"block w-full form-control form-input form-input-bordered py-3 h-auto",rows:"2",placeholder:`${r.$t("Description")}...`},null,8,Xa),[[ze,c(n).description]])]),s("div",el,[c(V)&&(!c(n).start_time||!c(n).end_time)?(S(),O(ue,{key:0},[c(n).is_live_clocking?(S(),O("button",al,[fe(I(r.$t("Arr\xEAter"))+" ",1),te(c(na),{class:"h-3 w-4"})])):(S(),O("button",tl,[fe(I(r.$t("D\xE9marrer"))+" ",1),te(c(Xt),{class:"h-3 w-4"})]))],64)):c(n).id&&c(n).is_creating?(S(),O("button",{key:1,type:"button",class:"appearance-none bg-transparent font-bold text-gray-400 hover:text-gray-300 active:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 dark:active:text-gray-600 dark:hover:bg-gray-800 text-sm px-2",onClick:g[6]||(g[6]=M=>c(m)(e.entry))},I(r.$t("Annuler")),1)):T("",!0),c(n).is_editing?(S(),O("button",{key:2,type:"button",class:"appearance-none bg-transparent font-bold text-gray-400 hover:text-gray-300 active:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 dark:active:text-gray-600 dark:hover:bg-gray-800 text-sm px-2",onClick:X},I(r.$t("Annuler")),1)):T("",!0),s("button",{type:"submit",class:"shadow bg-primary-500 hover:bg-primary-400 active:bg-primary-600 text-white dark:text-gray-900 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3 disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none gap-2",disabled:!(c(n).start_time&&c(n).end_time&&c(n).duration&&c(n).project)},I(c(n).is_creating?r.$t("Ajouter"):r.$t("Sauvegarder")),9,ll)])],42,za)):(S(),O("div",{key:1,class:x(["relative p-4 bg-gray-100 dark:bg-gray-800 rounded flex flex-col gap-2 w-full border",[c(v)||c(E)?"border-red-500":"border-transparent",{"has-gap mt-10":c(N)}]])},[s("div",nl,[s("div",null,[s("label",null,I(r.$t("Projet")),1),s("strong",rl,I(c(n).project.name),1)]),s("div",sl,[s("button",{type:"button",class:"flex-shrink-0 shadow rounded focus:outline-none ring-primary-200 dark:ring-gray-600 focus:ring bg-primary-500 hover:bg-primary-400 active:bg-primary-600 text-white dark:text-gray-800 inline-flex items-center justify-center font-bold h-10 w-10 text-sm",onClick:g[7]||(g[7]=M=>c(n).is_editing=!0)},[te(c($t),{class:"h-5"})]),s("button",{type:"button",class:"flex-shrink-0 shadow rounded focus:outline-none ring-primary-200 dark:ring-gray-600 focus:ring bg-red-500 hover:bg-red-400 active:bg-red-600 text-white dark:text-gray-800 inline-flex items-center justify-center font-bold h-10 w-10 text-sm",onClick:g[8]||(g[8]=M=>c(m)(e.entry))},[te(c(ua),{class:"h-5"})])])]),s("div",il,[s("div",null,[s("label",null,I(r.$t("D\xE9but")),1),s("strong",{class:x(["block",{"text-red-500":c(B)}])},I(c(n).start_time),3)]),s("div",null,[s("label",null,I(r.$t("Fin")),1),s("strong",{class:x(["block",{"text-red-500":c(k)}])},I(c(n).end_time),3)]),s("div",null,[s("label",null,I(r.$t("Dur\xE9e")),1),s("strong",{class:x(["block",{"text-red-500":c(W)}])},I(c(n).duration),3)]),s("div",null,[s("label",null,I(r.$t("Date")),1),s("strong",ol,I(c(t)(c(n).date).format("L")),1)])]),c(n).description?(S(),O("div",ul,[s("label",null,I(r.$t("Description")),1),s("strong",dl,I(c(n).description),1)])):T("",!0)],2))}}});const vl=Pt(cl,[["__scopeId","data-v-6bdd3633"]]),fl={class:"p-4 bg-gray-100 dark:bg-gray-800 rounded gap-4 w-full font-bold flex justify-between"},pl=Te({__name:"WeekSummaryByProjects",setup(e){const o=Ie(),{weekSummaryByProjects:t,menuOpened:u}=De(o);function i(){u.value=!1}return(y,l)=>{const m=It("click-away");return S(),We(Dt,{"enter-from-class":"translate-x-full","leave-to-class":"translate-x-full","enter-active-class":"transition duration-300","leave-active-class":"transition duration-300"},{default:Tt(()=>[c(t)&&c(t).length?Pe((S(),O("div",{key:0,class:"p-4 py-6 w-full sm:w-96 border-l dark:border-gray-800 shrink-0 absolute lg:static top-16 right-0 bottom-0 bg-white dark:bg-gray-900 z-10 flex lg:!flex flex-col gap-2 shadow-lg lg:shadow-none",onClick:l[0]||(l[0]=he(()=>{},["stop"])),onTouchstart:l[1]||(l[1]=he(()=>{},["stop"]))},[(S(!0),O(ue,null,pe(c(t),([C,w])=>(S(),O("div",fl,[s("span",null,I(C),1),s("span",null,I(w),1)]))),256))],32)),[[Et,c(u)],[m,c(u)?i:()=>{}]]):T("",!0)]),_:1})}}}),gl={class:"flex justify-center min-h-full grow"},ml={class:"px-4 lg:px-8 py-6 flex mx-auto flex-col items-center max-w-5xl w-full"},bl={class:"flex flex-col items-center w-full gap-2 mx-auto"},wl=Te({__name:"index",setup(e){const o=Ie(),{todaysEntries:t}=De(o),u=z(st());return Q(t,()=>{u.value=st()}),(i,y)=>{const l=Wt,m=vl,C=pl;return S(),O("div",gl,[s("div",ml,[te(l),s("div",bl,[(S(!0),O(ue,null,pe(c(t),(w,p)=>(S(),We(m,{key:w.id,entry:w},null,8,["entry"]))),128)),(S(),We(m,{key:c(u)}))])]),te(C)])}}});export{wl as default};
